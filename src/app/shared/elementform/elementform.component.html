<select [ngModel]="element" (ngModelChange)="onItemSelectChange($event)" class="form-select form-select-md mb-3" name="title" >
  <option *ngFor="let folder of folders" [ngValue]="folder.description">{{folder.name}}</option>
</select>

<button class="btn btn-block btn-secondary" (click)="uploadImgToggle('image')" *ngIf="!uploadImage">Agregar Imagen</button>
<button class="btn btn-block btn-danger" id="imgToggle" (click)="uploadImgToggle('image')" *ngIf="uploadImage">Cancel</button>

<div *ngIf="uploadImage">
  <app-uploadimage [item]="item" [type]="uploadType" [index]="uploadIndex" [edit]="edit" [elementIndex]="elemUploadIndex"></app-uploadimage>
</div>
<div *ngIf="!uploadImage">
  <div id="elem{{ item.name }}" class="carousel" *ngIf="item && item.images && item.images[0]">
    <!-- Carousel images   <div id="item{{ element.id }}" class="carousel" 
      <div class="carousel-inner bg-dark">
    <div  *ngFor="let image of element.images; index as index" [ngClass]="{
      'carousel-item': true,
      'active': index==0
    }" 
    >
  </div>
</div>
      >-->
     
      <div class="carousel-inner bg-dark">
        <div  *ngFor="let image of item.images; index as index" [ngClass]="{
                      'carousel-item': true,
                      'active': index==0
                      }">
                      <button class="btn offset-4 btn-light" (click)="uploadImgToggle('element',index)" *ngIf="!uploadImage">Agregar Detalle</button>
                      <div class="card-body bg-info rounded ">
                        <div  class="rounded row text-center ">
                          <div class="col-3">
                            <img *ngIf="image.type === 'image' || image.type === 'model'" src="{{ image.url }}" class="col-12" alt="..." />
                          </div>
                          <div class="col-9 row">
                            <div *ngFor="let element of image.elements; index as elemId" class="col-3 form-inline">
                              
                              <img  *ngIf="element.type === 'image' || element.type === 'model'" src="{{ element.url }}" class="col-12" alt="..." />
                              <a class="btn btn-danger btn-sm col-12" (click)="deleteImage(image,'element',elemId)" id="{{'list'+elemId}}" >Remove</a>
                            </div>
                          </div>
                          
                          <video  class="d-block w-30 center" style="z-index: 0;"
                                  id='videoplayer{{index}}' 
                                  controls  *ngIf="image.type === 'video'" 
                                  width="360"
                                 height="240">
                                <source src="{{image.url}}" type="video/mp4">
                               </video>
                        </div>
                        <div class="row bg-dark">
                          <div *ngFor="let element of image.elements; index as elemId" class="col-6 bg-info rounded">
                            <div class="col-12">
                              <label class="text-info col-4">Name</label>
                              <input type="text" class="col-8 form-control" [(ngModel)]="element.name"/>
                            </div>
                            <div class="col-12">
                              <label class="text-info">Title</label>
                            <input type="text" class="form-control" [(ngModel)]="element.title"/>
                            </div>
                            <div class="col-12">
                              <label class="text-info">Description</label>
                            <input type="text" class="form-control" [(ngModel)]="element.description"/>
                            </div>
                          </div>
                        </div>
                        <!--div class="row">
                          <div class="col-4">
                            <div class="list-group" id="list-tab" role="tablist">
                              <a *ngFor="let element of image.elements; index as elemId" class="list-group-item list-group-item-action" id="{{'list-home-'+elemId}}" data-toggle="list" href="{{'#list-'+elemId}}" role="tab" aria-controls="home">Home</a>

                            </div>
                          </div>
                          <div class="col-8">
                            <div class="tab-content" id="nav-tabContent">
                              <div *ngFor="let element of image.elements; index as elemIdDiv" class="tab-pane fade show active" id="{{'list-'+elemIdDiv}}" role="tabpanel" [attr.aria-labelledby]="'#list-home-'+elemIdDiv">...</div>
                             
                            </div>
                          </div>
                        </div-->

                        <!--p>
                          <a class="btn btn-primary" data-toggle="collapse" href="#collapseElements" role="button" aria-expanded="false" aria-controls="collapseElements">
                            Link with href
                          </a>
                          <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseElements" aria-expanded="false" aria-controls="collapseElements">
                            Edit Elements
                          </button>
                        </p>
                        <div class="collapse" id="collapseElements">
                          <h1 class="text-bg-danger">mititulo</h1>
                          <div *ngFor="let element of image.elements; index as elemIdDiv" class="card card-body">
                            <div class="col-12">
                              <label class="text-info col-4">Name</label>
                              <input type="text" class="col-8 form-control" [(ngModel)]="element.name!"/>
                            </div>
                            <div class="col-12">
                              <label class="col-4 text-info">Description</label>
                            <input type="col-8 text" class="form-control" [(ngModel)]="element.description!"/>
                            </div>
                          </div>
                        </div-->




                        <!--div class="row">
                          <!--div class="col-4">
                            <div class="list-group" id="list-tab" role="tablist">
                              <a class="list-group-item list-group-item-action active" id="list-home-list" data-toggle="list" href="#list-home" role="tab" aria-controls="home">Home</a>
                             </div>
                          </div>
                          <div class="col-8">
                            <div class="tab-content" id="nav-tabContent">
                              <div *ngFor="let element of image.elements; index as elemIdDiv">
                                <div  class="tab-pane fade" id="{{'elem'+elemIdDiv}}" role="tabpanel" aria-labelledby="list0" >

                                  <h1 class="text-bg-primary">{{element.description}}</h1>

                              </div>
                              </div>
                              
                             </div>
                          </div>
                        </div-->


                        <div class="container row form-control text-center mt-2 pb-2 pt-1">
                          <div class="col-12">
                            <label class="text-info col-4">Name</label>
                            <input type="text" class="col-8 form-control" [(ngModel)]="image.name"/>
                          </div>
                         
                          <div class="col-12">
                            <label class="text-info">Title</label>
                          <input type="text" class="form-control" [(ngModel)]="image.title"/>
                          </div>
                          <div class="col-12">
                            <label class="text-info">3D</label>
                          <input type="text" class="form-control" [(ngModel)]="image.src"/>
                          </div>
                          <div class="col-12">
                            <label class="text-info">QR</label>
                            <input type="text" class="form-control" [(ngModel)]="image.value"/>
                          </div>
                          <div class="col-12">
                            <label class="col-4 text-info">Description</label>
                          <input type="col-8 text" class="form-control" [(ngModel)]="image.description"/>
                          </div>
                         
                          
                          
                          
                          
                      
                          <button
                            class="btn btn-danger btn-block"
                            (click)="deleteImage(image)"
                          >
                            Remove
                          </button>
                          
                        </div>
                  
                      </div>
                      <div *ngIf="item.images!.length>1">
                        <button class="carousel-control-prev" style="max-height: 60px;margin-top: 150px;background-color: black;" type="button" [attr.data-bs-target]="'#elem'+item.name" data-bs-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" style="height: 60px;margin-top: 150px;background-color: black;" type="button" [attr.data-bs-target]="'#elem'+item.name" data-bs-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Next</span>
                        </button>
                      </div>
        </div>
    </div>
    <!--div
    *ngFor="let image of item.images; let i = index"
    class="col-lg-6"
    
  >
    <img
      class="d-block"
      style="max-height: 150px;max-width: 150px;"
      [src]="image.url"
      [alt]="i"
    />
    <label class="text-info">Name</label>
    <input type="text" class="form-control" [(ngModel)]="image.name"/>
    <label class="text-info">Description</label>
    <input type="text" class="form-control" [(ngModel)]="image.description"/>
    <label class="text-info">Title</label>
    <input type="text" class="form-control" [(ngModel)]="image.title"/>
    <label class="text-info">3D</label>
    <input type="text" class="form-control" [(ngModel)]="image.src"/>
    <label class="text-info">QR</label>
    <input type="text" class="form-control" [(ngModel)]="image.value"/>

    <button
      class="btn btn-danger btn-block"
      (click)="deleteImage(image)"
    >
      Remove
    </button>
  </div-->
    <!--END CAROUSEL-->
  </div>
  
</div>
<div class="container jumbotron m-t-20">
  <div class="col-12 row" *ngIf="editingProfile">
    <button (click)="regresarPerfil()" class="btn btn-danger">Regresar</button>
     <h1 class="mx-auto">Editar Perfil</h1>
  </div>
  <div class="container mt-3">
  
   
  <div class="form-group row">
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text">Codes</span>
      </div>
      <input
      class="form-control"
      type="text"
      placeholder="Codes"
      [(ngModel)]="code"
    />
    <button [ngClass]="{
      'disabled': code === '' 
    }" class="btn btn-info" (click)="addHastag()">Add</button>
   
    </div>
    <div *ngIf="hastags.length > 0" class="row">
      <p class="text-white col-4" *ngFor="let elem of hastags">{{elem}}</p>
      <button (click)="deleteHashtag()" class="btn btn-danger btn-sm col-2">X</button>
    </div>
  </div>
    <form
      autocomplete="off"
      [formGroup]="forma"
      (ngSubmit)="guardar()"
      class="mx-2"
      [ngClass]="{'row': editingProfile}"
    >
      <p id="errLbl" style="color: black"></p>
  
      <div *ngIf="forma.value.name | json" class="form-group row">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Nombre</span>
          </div>
  
          <input
            class="form-control"
            type="text"
            placeholder="Asigna un Nombre"
            formControlName="name"
            [class.is-invalid]="nombreNoValido"
          />
        </div>
        <div class="col">
          <small *ngIf="nombreNoValido" class="text-danger">
            Ingrese al menos 5 letras
          </small>
        </div>
      </div>
  
      <div
        *ngIf="forma.value.displayName | json"
        [ngClass]="{
          'row form-group': !editingProfile,
          'col-sm-6': editingProfile
        }"
      >
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">*Usuario</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Usuario"
            formControlName="displayName"
            [class.is-invalid]="displayNameNoValido"
          />
        </div>
        <div class="col">
          <small *ngIf="displayNameNoValido" class="text-danger">
            Ingrese al menos 5 letras
          </small>
        </div>
      </div>
      <div *ngIf="forma.value.indexInit | json" class="form-group row">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">indexInit</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="indexInit"
            formControlName="indexInit"
            [class.is-invalid]="indexInitNoValido"
          />
        </div>
        <div class="col">
          <small *ngIf="indexInitNoValido" class="text-danger">
            Ingrese al menos 5 letras
          </small>
        </div>
      </div>

     

      <div *ngIf="forma.value.autor | json" class="form-group row">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Autor</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Autor"
            formControlName="autor"
            [class.is-invalid]="autorNoValido"
          />
        </div>
        <div class="col">
          <small *ngIf="autorNoValido" class="text-danger">
            Ingrese al menos 5 letras
          </small>
        </div>
      </div>
      <div *ngIf="forma.value.link | json" class="form-group row">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Link</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="http://..."
            formControlName="link"
            [class.is-invalid]="linkNoValido"
          />
        </div>
        <div class="col">
          <small *ngIf="autorNoValido" class="text-danger">
            Ingrese al menos 5 letras
          </small>
        </div>
      </div>
  
      <div *ngIf="forma.value.owner | json" class="form-group row">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Owner</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Owner"
            formControlName="owner"
            [class.is-invalid]="ownerNoValido"
          />
        </div>
        <div class="col">
          <small *ngIf="ownerNoValido" class="text-danger">
            Ingrese al menos 5 letras
          </small>
        </div>
      </div>
  
      <div
        *ngIf="(forma.value.email | json) && !editingProfile"
        class="form-group row"
      >
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">*Email</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Email"
            formControlName="email"
            [class.is-invalid]="correoNoValido"
          />
        </div>
        <div class="col">
          <small *ngIf="correoNoValido" class="text-danger">
            Ingrese el email
          </small>
        </div>
      </div>
  
      <div *ngIf="forma.value.title | json" class="form-group row">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Título</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Titulo"
            formControlName="title"
            [class.is-invalid]="titleNoValido"
          />
        </div>
        <div class="col">
          <small *ngIf="titleNoValido" class="text-danger">
            Ingrese al menos 5 letras
          </small>
        </div>
      </div>
  
      <div *ngIf="forma.value.description | json" class="form-group row">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Descripción</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Descripción breve"
            formControlName="description"
            [class.is-invalid]="descriptionNoValido"
          />
        </div>
        <div class="col">
          <small *ngIf="descriptionNoValido" class="text-danger">
            Ingrese la descripción
          </small>
        </div>
      </div>
  
      <div
        *ngIf="forma.value.genero | json"
        [ngClass]="{
          'row form-group': !editingProfile,
          'col-sm-6': editingProfile
        }"
      >
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Género</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Género"
            formControlName="genero"
          />
        </div>
      </div>
  
      <div
        *ngIf="forma.value.dateBirth | json"
        [ngClass]="{
          'row form-group': !editingProfile,
          'col-sm-6': editingProfile
        }"
      >
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Cumpleaños</span>
          </div>
          <input
            class="form-control"
            type="date"
            placeholder="Fecha Nacimiento"
            formControlName="dateBirth"
          />
        </div>
      </div>
      <div
        *ngIf="forma.value.facebook | json"
        [ngClass]="{
          'row form-group': !editingProfile,
          'col-sm-6': editingProfile
        }"
      >
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Facebook</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Facebook"
            formControlName="facebook"
          />
        </div>
      </div>
      <div
        *ngIf="forma.value.twitter | json"
        [ngClass]="{
          'row form-group': !editingProfile,
          'col-sm-6': editingProfile
        }"
      >
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Twitter</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Twitter"
            formControlName="twitter"
          />
        </div>
      </div>
      <div
        *ngIf="forma.value.linkedin | json"
        [ngClass]="{
          'row form-group': !editingProfile,
          'col-sm-6': editingProfile
        }"
      >
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">Linkedin</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="Linkedin"
            formControlName="linkedin"
          />
        </div>
      </div>
      <div
        *ngIf="forma.value.github | json"
        [ngClass]="{
          'row form-group': !editingProfile,
          'col-sm-6': editingProfile
        }"
      >
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">GitHub</span>
          </div>
          <input
            class="form-control"
            type="text"
            placeholder="GitHub"
            formControlName="github"
          />
        </div>
      </div>
  
    </form>
    <div class="form-group row">
      <div class="input-group col">
        <button type="submit" (click)="guardar()" class="btn btn-primary btn-block col-8 col-md-6 mx-auto">Guardar</button>
      </div>
    </div>
  </div>
  </div>
  